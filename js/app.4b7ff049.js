(function(t){function e(e){for(var n,a,i=e[0],l=e[1],c=e[2],m=0,d=[];m<i.length;m++)a=i[m],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],n=!0,i=1;i<r.length;i++){var l=r[i];0!==o[l]&&(n=!1)}n&&(s.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},o={app:0},s=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=r("8c4f"),s=r("ce5b"),a=r.n(s);r("bf40");n["default"].use(a.a);var i={},l=new a.a(i),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.loaded&&!t.error?r("div",{staticClass:"mt-10 mx-5"},[r("h2",{staticClass:"text-h3 mb-3"},[t._v("Что случилось?")]),r("p",[t._v("Как пишут на сайте WWF, в России осталось всего 600 тигров. И это реально проблема.")]),r("p",[t._v("Сохранение природы, о котором написано в конституции — это круто, но чтобы ее реально сохранить, нужно что-то делать, а не просто написать об этом в никому не нужной книжке.")]),r("p",[t._v("Собственно поэтому я решил собрать "),r("b",[t._v(t._s(parseInt(t.progress.target).toLocaleString("ru"))+"₽")]),t._v(" и пожертвовать их в WWF.")]),r("div",{staticClass:"my-15"},[r("Progress",{attrs:{target:parseInt(t.progress.target),amount:parseInt(t.progress.amount)}}),r("DonateForm")],1),t.members.length?r("div",{staticClass:"mb-15"},[r("h2",{staticClass:"text-h3 mb-3"},[t._v("Список участников")]),r("v-row",t._l(t.members,(function(e){return r("v-col",{key:e,staticClass:"text-center",attrs:{cols:"12",sm:"3"}},[r("p",[t._v(t._s(e))])])})),1)],1):t._e(),r("div",{staticClass:"text-body-2"},[r("h2",{staticClass:"text-h3 mb-3"},[t._v("Q&A")]),r("FAQRow",{attrs:{title:"Какой мне от этого профит?"}},[r("p",[t._v("Во-первых, мне действительно важно, чтобы хоть кто-то заботился о природе, т.к. ей и так нелегко в этой стране.")]),r("p",[t._v("Во-вторых, тигры классные и будет обидно, если они исчезнут из-за браканьеров или уничтожения их среды обитания.")]),r("p",[t._v('Ну и еще, я хочу получить медальку (электронную) и звание "Защитник тигров" на сайте WWF, а выкладывать 30 тысяч из кармана за один раз пока еще слишком дорого для меня.')])]),r("FAQRow",{attrs:{title:"Почему нужно нести деньги мне, а не напрямую в WWF?"}},[r("p",[t._v("На самом деле, нет никакой весомой причины нести свои деньги мне.")]),r("p",[t._v("Возможно, вы просто хотите поддержать мой проект или внести посильный вклад в сохранение тигров.")]),r("p",[t._v("А может, готовы помочь мне получить медальку, о которой я писал выше.")])]),r("FAQRow",{attrs:{title:"Действительно ли деньги пойдут на заявленную цель?"}},[r("p",[t._v("Если коротко, то да.")]),r("p",[t._v('Если чуть более развернуто, то я действительно хочу получить медальку и звание "Защитник тигров" на сайте WWF, поэтому в любом случае буду делать туда пожертвование, независимо от того, наберется ли нужная сумма здесь или нет. Просто вы можете чуть приблизить этот момент.')])]),r("FAQRow",{attrs:{title:"Будет ли опубликован отчет о том, как израсходованы деньги?"}},[r("p",[t._v("Да, сразу после того, как я сделаю пожертвование, я опубликую доказательства того, что деньги отправлены в фонд.")]),r("p",[t._v("За дальнейшей судьбой денег можно будет следить на сайте WWF.")]),r("p",[t._v("Кроме того, если вы отметите при пожертвовании, что хотите попасть в список участников, ваше имя будет опубликовано на этой странице.")])])],1)]):t.error?r("div",{staticClass:"mt-10 mx-5"},[r("div",{staticClass:"text-center"},[r("p",[r("v-icon",{attrs:{size:"80"}},[t._v("mdi-emoticon-sad-outline")])],1),t._v(" Произошла ошибка при загрузке данных. Попробуйте обновить страницу. ")]),r("div",{staticClass:"my-3 d-flex justify-center"},[r("v-btn",{attrs:{"x-large":"",color:"green",dark:"",to:"/"}},[t._v("Обновить")])],1)]):r("div",{staticClass:"mt-10 mx-5"},[r("div",{staticClass:"text-center"},[r("v-progress-circular",{attrs:{size:120,width:3,color:"green",indeterminate:""}}),r("p",{staticClass:"my-5"},[t._v("Идет загрузка, подождите...")])],1)])},u=[],m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-progress-linear",{attrs:{height:"50",value:t.value,striped:"",color:"green"}},[r("strong",[t._v("Собрано "+t._s(parseInt(t.amount).toLocaleString("ru"))+"₽ из "+t._s(parseInt(t.target).toLocaleString("ru"))+"₽")])])},d=[],f={name:"Progress",props:["amount","target"],computed:{value:function(){return 100*this.amount/this.target}}},p=f,v=r("2877"),h=Object(v["a"])(p,m,d,!1,null,"28deb498",null),g=h.exports,b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"my-3 d-flex justify-center"},[r("v-btn",{attrs:{dark:"","x-large":"",color:"green"},on:{click:function(e){t.showModal=!0}}},[t._v(" Пожертвовать ")]),r("DonateModal",{model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}})],1)},_=[],x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{width:"100%","max-width":"800"},on:{close:function(e){t.value=!1}},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[r("v-card",[r("v-card-title",[t._v(" Пожертвование ")]),r("v-card-text",[r("p",[t._v("Укажите сумму пожертвования")]),r("v-row",[r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-card",{attrs:{hover:"",dark:100===t.form.selected,color:100===t.form.selected?"green":"",disabled:t.requestInProgress},on:{click:function(e){t.form.selected=100}}},[r("v-card-title",{staticClass:"text-h3 justify-center"},[t._v("100₽")])],1)],1),r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-card",{attrs:{hover:"",dark:500===t.form.selected,color:500===t.form.selected?"green":"",disabled:t.requestInProgress},on:{click:function(e){t.form.selected=500}}},[r("v-card-title",{staticClass:"text-h3 justify-center"},[t._v("500₽")])],1)],1),r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-card",{attrs:{hover:"",dark:1e3===t.form.selected,color:1e3===t.form.selected?"green":"",disabled:t.requestInProgress},on:{click:function(e){t.form.selected=1e3}}},[r("v-card-title",{staticClass:"text-h3 justify-center"},[t._v("1 000₽")])],1)],1)],1),r("v-form",{staticClass:"my-5",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.doSubmit.apply(null,arguments)}}},[r("v-text-field",{attrs:{required:!0,type:"email",label:"Адрес электронной почты",placeholder:"username@example.com",hint:"Email не передается третьим лицам и нигде не публикуется. Когда нужная сумма будет набрана и передана в фонд WWF, на этот адрес придет уведомление.","persistent-hint":"",outlined:"",disabled:t.requestInProgress},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),r("v-checkbox",{attrs:{label:"Хочу быть в списке участников",disabled:t.requestInProgress},model:{value:t.form.publish,callback:function(e){t.$set(t.form,"publish",e)},expression:"form.publish"}}),t.form.publish?r("v-text-field",{attrs:{required:t.form.publish,label:"Ваше имя",placeholder:"Иван Иванов",hint:"Это имя будет указано в списке участников. Нецензурные имена будут скрыты звездочками.","persistent-hint":"",outlined:"",disabled:t.requestInProgress},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}):t._e(),r("div",{staticClass:"d-flex justify-center mt-5"},[r("v-btn",{attrs:{type:"submit",dark:"",large:"",color:"green",disabled:t.requestInProgress},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.doSubmit.apply(null,arguments)}}},[t._v("Пожертвовать")])],1),t.error?r("p",{staticClass:"red--text text-center mt-3"},[t._v(t._s(t.error))]):t._e()],1),r("div",{ref:"hidden-form",staticStyle:{display:"none"}})],1)],1)],1)},y=[],w=(r("d3b7"),r("b0c0"),r("99af"),"https://tigers.mznx.ru");function k(){return fetch("".concat(w,"/progress")).then((function(t){return t.json()}))}function C(t,e,r){return fetch("".concat(w,"/payment?name=").concat(t,"&email=").concat(e,"&amount=").concat(r)).then((function(t){return t.text()}))}var j=r("1ffa"),P=r.n(j),O={name:"DonateModal",props:["value"],data:function(){return{requestInProgress:!1,form:{email:"",name:"",selected:500,publish:!1},error:null}},computed:{show:{get:function(){return this.value},set:function(t){this.requestInProgress?console.debug("Cannot close dialog while request in progress"):this.$emit("input",t)}}},methods:{doSubmit:function(){var t=this;this.validate()?this.requestInProgress?console.debug("Request already in progress"):(this.requestInProgress=!0,C(this.form.publish?this.form.name:"$anonymous",this.form.email,this.form.selected).then((function(e){t.$refs["hidden-form"].innerHTML=e,t.$refs["hidden-form"].querySelector("button").click()})).catch((function(){t.error="Ошибка отправки запроса"})).finally((function(){t.requestInProgress=!1}))):console.debug("Form is invalid")},validate:function(){return this.form.email.length?P.a.validate(this.form.email)?-1===[100,500,1e3].indexOf(this.form.selected)?(this.error="Выберите сумму из предложенных вариантов",!1):this.form.publish&&!this.form.name.length?(this.error="Необходимо указать имя",!1):this.form.publish&&(this.form.name.length<2||this.form.name.length>100)?(this.error="Имя должно содержать от 2 до 100 символов",!1):(this.error=null,!0):(this.error="Вы указали некорректный e-mail",!1):(this.error="Укажите e-mail",!1)}}},F=O,q=Object(v["a"])(F,x,y,!1,null,"53a5432f",null),I=q.exports,W={name:"DonateForm",components:{DonateModal:I},data:function(){return{showModal:!1}}},$=W,S=Object(v["a"])($,b,_,!1,null,"684ca654",null),M=S.exports,E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mb-10"},[r("h5",{staticClass:"text-h5 mb-2"},[t._v(t._s(t.title))]),t._t("default")],2)},A=[],D={name:"FAQRow",props:["title"]},Q=D,R=Object(v["a"])(Q,E,A,!1,null,"0a031f16",null),z=R.exports,L={name:"index",components:{FAQRow:z,DonateForm:M,Progress:g},data:function(){return{loaded:!1,error:!1,members:[],progress:{amount:0,target:0}}},mounted:function(){var t=this;k().then((function(e){t.progress.amount=e.amount,t.progress.target=e.target,t.members=e.members,t.loaded=!0})).catch((function(){t.error=!0})),document.title="Спасаем тигров вместе • mznx.ru"}},T=L,J=Object(v["a"])(T,c,u,!1,null,"5e1dfdea",null),H=J.exports,B=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mt-10 mx-5"},[r("h2",{staticClass:"text-h3 mb-3"},[t._v("Платеж успешно проведен")]),r("p",[t._v("Спасибо, что решили поддержать мой проект!")]),r("p",[t._v("Как только соберется нужная сумма, переведу собранные деньги в WWF и оповещу об этом через E-mail.")]),r("p",[t._v("Список участников будет обновлен автоматически.")]),r("div",{staticClass:"my-5 text-center"},[r("v-btn",{attrs:{to:"/","x-large":"",color:"green",dark:""}},[t._v("Вернуться на главную")])],1)])},G=[],K={name:"thank_you",mounted:function(){document.title="Пожертвование получено • mznx.ru"}},N=K,U=Object(v["a"])(N,B,G,!1,null,"26529524",null),V=U.exports,X=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-app-bar",{attrs:{color:"#fff000",absolute:"",app:"",dark:"",height:"150",src:t.image},scopedSlots:t._u([{key:"img",fn:function(e){var n=e.props;return[r("v-img",t._b({attrs:{gradient:"to top right, rgba(19,84,122,.5), rgba(128,208,199,.8)"}},"v-img",n,!1))]}}])}),r("v-main",[r("v-container",[r("router-view")],1)],1),r("v-footer",{attrs:{app:""}})],1)},Y=[],Z=r("b7ef"),tt=r.n(Z),et={name:"App",data:function(){return{image:tt.a}}},rt=et,nt=Object(v["a"])(rt,X,Y,!1,null,null,null),ot=nt.exports;n["default"].config.productionTip=!1,n["default"].use(o["a"]);var st=[{path:"/",component:H},{path:"/thank-you",component:V}],at=new o["a"]({mode:"history",routes:st});new n["default"]({render:function(t){return t(ot)},vuetify:l,router:at}).$mount("#app")},b7ef:function(t,e,r){t.exports=r.p+"img/tiger.2a6ac3f0.jpg"}});
//# sourceMappingURL=app.4b7ff049.js.map