(function(e){function t(t){for(var n,a,i=t[0],l=t[1],c=t[2],m=0,d=[];m<i.length;m++)a=i[m],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,i=1;i<r.length;i++){var l=r[i];0!==o[l]&&(n=!1)}n&&(s.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},o={app:0},s=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=r("8c4f"),s=r("ce5b"),a=r.n(s);r("bf40");n["default"].use(a.a);var i={},l=new a.a(i),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.loaded&&!e.error?r("div",{staticClass:"mt-10 mx-5"},[r("h2",{staticClass:"text-h3 mb-3"},[e._v("Что случилось?")]),r("p",[e._v("Как пишут на сайте WWF, в России осталось всего 600 тигров. И это реально проблема.")]),r("p",[e._v("Сохранение природы, о котором написано в конституции — это круто, но чтобы ее реально сохранить, нужно что-то делать, а не просто написать об этом в никому не нужной книжке.")]),r("p",[e._v("Собственно поэтому я решил собрать "),r("b",[e._v(e._s(parseInt(e.progress.target).toLocaleString("ru"))+"₽")]),e._v(" и пожертвовать их в WWF.")]),r("div",{staticClass:"my-15"},[r("Progress",{attrs:{target:parseInt(e.progress.target),amount:parseInt(e.progress.amount)}}),r("DonateForm")],1),e.members.length?r("div",{staticClass:"mb-15"},[r("h2",{staticClass:"text-h3 mb-3"},[e._v("Список участников")]),r("v-row",[r("v-col",{key:e.member,attrs:{for:"member in members",cols:"6",sm:"3"}},[r("p",[e._v(e._s(e.member))])])],1)],1):e._e(),r("div",{staticClass:"text-body-2"},[r("h2",{staticClass:"text-h3 mb-3"},[e._v("Q&A")]),r("FAQRow",{attrs:{title:"Какой мне от этого профит?"}},[r("p",[e._v("Во-первых, мне действительно важно, чтобы хоть кто-то заботился о природе, т.к. ей и так нелегко в этой стране.")]),r("p",[e._v("Во-вторых, тигры классные и будет обидно, если они исчезнут из-за браканьеров или уничтожения их среды обитания.")]),r("p",[e._v('Ну и еще, я хочу получить медальку (электронную) и звание "Защитник тигров" на сайте WWF, а выкладывать 30 тысяч из кармана за один раз пока еще слишком дорого для меня.')])]),r("FAQRow",{attrs:{title:"Почему нужно нести деньги мне, а не напрямую в WWF?"}},[r("p",[e._v("На самом деле, нет никакой весомой причины нести свои деньги мне.")]),r("p",[e._v("Возможно, вы просто хотите поддержать мой проект или внести посильный вклад в сохранение тигров.")]),r("p",[e._v("А может, готовы помочь мне получить медальку, о которой я писал выше.")])]),r("FAQRow",{attrs:{title:"Действительно ли деньги пойдут на заявленную цель?"}},[r("p",[e._v("Если коротко, то да.")]),r("p",[e._v('Если чуть более развернуто, то я действительно хочу получить медальку и звание "Защитник тигров" на сайте WWF, поэтому в любом случае буду делать туда пожертвование, независимо от того, наберется ли нужная сумма здесь или нет. Просто вы можете чуть приблизить этот момент.')])]),r("FAQRow",{attrs:{title:"Будет ли опубликован отчет о том, как израсходованы деньги?"}},[r("p",[e._v("Да, сразу после того, как я сделаю пожертвование, я опубликую доказательства того, что деньги отправлены в фонд.")]),r("p",[e._v("За дальнейшей судьбой денег можно будет следить на сайте WWF.")]),r("p",[e._v("Кроме того, если вы отметите при пожертвовании, что хотите попасть в список участников, ваше имя будет опубликовано на этой странице.")])])],1)]):e.error?r("div",{staticClass:"mt-10 mx-5"},[r("div",{staticClass:"text-center"},[r("p",[r("v-icon",{attrs:{size:"80"}},[e._v("mdi-emoticon-sad-outline")])],1),e._v(" Произошла ошибка при загрузке данных. Попробуйте обновить страницу. ")]),r("div",{staticClass:"my-3 d-flex justify-center"},[r("v-btn",{attrs:{"x-large":"",color:"green",dark:"",to:"/"}},[e._v("Обновить")])],1)]):r("div",{staticClass:"mt-10 mx-5"},[r("div",{staticClass:"text-center"},[r("v-progress-circular",{attrs:{size:120,width:3,color:"green",indeterminate:""}}),r("p",{staticClass:"my-5"},[e._v("Идет загрузка, подождите...")])],1)])},u=[],m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-progress-linear",{attrs:{height:"50",value:e.value,striped:"",color:"green"}},[r("strong",[e._v("Собрано "+e._s(parseInt(e.amount).toLocaleString("ru"))+"₽ из "+e._s(parseInt(e.target).toLocaleString("ru"))+"₽")])])},d=[],f={name:"Progress",props:["amount","target"],computed:{value:function(){return 100*this.amount/this.target}}},p=f,v=r("2877"),h=Object(v["a"])(p,m,d,!1,null,"28deb498",null),b=h.exports,g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"my-3 d-flex justify-center"},[r("v-btn",{attrs:{dark:"","x-large":"",color:"green"},on:{click:function(t){e.showModal=!0}}},[e._v(" Пожертвовать ")]),r("DonateModal",{model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}})],1)},_=[],x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{width:"100%","max-width":"800"},on:{close:function(t){e.value=!1}},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[r("v-card",[r("v-card-title",[e._v(" Пожертвование ")]),r("v-card-text",[r("p",[e._v("Укажите сумму пожертвования")]),r("v-row",[r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-card",{attrs:{hover:"",dark:100===e.form.selected,color:100===e.form.selected?"green":"",disabled:e.requestInProgress},on:{click:function(t){e.form.selected=100}}},[r("v-card-title",{staticClass:"text-h3 justify-center"},[e._v("100₽")])],1)],1),r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-card",{attrs:{hover:"",dark:500===e.form.selected,color:500===e.form.selected?"green":"",disabled:e.requestInProgress},on:{click:function(t){e.form.selected=500}}},[r("v-card-title",{staticClass:"text-h3 justify-center"},[e._v("500₽")])],1)],1),r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-card",{attrs:{hover:"",dark:1e3===e.form.selected,color:1e3===e.form.selected?"green":"",disabled:e.requestInProgress},on:{click:function(t){e.form.selected=1e3}}},[r("v-card-title",{staticClass:"text-h3 justify-center"},[e._v("1 000₽")])],1)],1)],1),r("v-form",{staticClass:"my-5",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.doSubmit.apply(null,arguments)}}},[r("v-text-field",{attrs:{required:!0,type:"email",label:"Адрес электронной почты",placeholder:"username@example.com",hint:"Email не передается третьим лицам и нигде не публикуется. Когда нужная сумма будет набрана и передана в фонд WWF, на этот адрес придет уведомление.","persistent-hint":"",outlined:"",disabled:e.requestInProgress},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),r("v-checkbox",{attrs:{label:"Хочу быть в списке участников",disabled:e.requestInProgress},model:{value:e.form.publish,callback:function(t){e.$set(e.form,"publish",t)},expression:"form.publish"}}),e.form.publish?r("v-text-field",{attrs:{required:e.form.publish,label:"Ваше имя",placeholder:"Иван Иванов",hint:"Это имя будет указано в списке участников. Нецензурные имена будут скрыты звездочками.","persistent-hint":"",outlined:"",disabled:e.requestInProgress},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}):e._e(),r("div",{staticClass:"d-flex justify-center mt-5"},[r("v-btn",{attrs:{type:"submit",dark:"",large:"",color:"green",disabled:e.requestInProgress},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.doSubmit.apply(null,arguments)}}},[e._v("Пожертвовать")])],1),e.error?r("p",{staticClass:"red--text text-center mt-3"},[e._v(e._s(e.error))]):e._e()],1),r("div",{ref:"hidden-form",staticStyle:{display:"none"}})],1)],1)],1)},y=[],w=(r("d3b7"),r("b0c0"),r("99af"),"https://tigers.mznx.ru");function k(){return fetch("".concat(w,"/progress")).then((function(e){return e.json()}))}function C(e,t,r){return fetch("".concat(w,"/payment?name=").concat(e,"&email=").concat(t,"&amount=").concat(r)).then((function(e){return e.text()}))}var j=r("1ffa"),P=r.n(j),O={name:"DonateModal",props:["value"],data:function(){return{requestInProgress:!1,form:{email:"",name:"",selected:500,publish:!1},error:null}},computed:{show:{get:function(){return this.value},set:function(e){this.requestInProgress?console.debug("Cannot close dialog while request in progress"):this.$emit("input",e)}}},methods:{doSubmit:function(){var e=this;this.validate()?this.requestInProgress?console.debug("Request already in progress"):(this.requestInProgress=!0,C(this.form.publish?this.form.name:"$anonymous",this.form.email,this.form.selected).then((function(t){e.$refs["hidden-form"].innerHTML=t,e.$refs["hidden-form"].querySelector("button").click()})).catch((function(){e.error="Ошибка отправки запроса"})).finally((function(){e.requestInProgress=!1}))):console.debug("Form is invalid")},validate:function(){return this.form.email.length?P.a.validate(this.form.email)?-1===[100,500,1e3].indexOf(this.form.selected)?(this.error="Выберите сумму из предложенных вариантов",!1):this.form.publish&&!this.form.name.length?(this.error="Необходимо указать имя",!1):this.form.publish&&(this.form.name.length<2||this.form.name.length>100)?(this.error="Имя должно содержать от 2 до 100 символов",!1):(this.error=null,!0):(this.error="Вы указали некорректный e-mail",!1):(this.error="Укажите e-mail",!1)}}},F=O,q=Object(v["a"])(F,x,y,!1,null,"53a5432f",null),I=q.exports,W={name:"DonateForm",components:{DonateModal:I},data:function(){return{showModal:!1}}},$=W,S=Object(v["a"])($,g,_,!1,null,"684ca654",null),M=S.exports,E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mb-10"},[r("h5",{staticClass:"text-h5 mb-2"},[e._v(e._s(e.title))]),e._t("default")],2)},A=[],D={name:"FAQRow",props:["title"]},Q=D,R=Object(v["a"])(Q,E,A,!1,null,"0a031f16",null),z=R.exports,L={name:"index",components:{FAQRow:z,DonateForm:M,Progress:b},data:function(){return{loaded:!1,error:!1,members:[],progress:{amount:0,target:0}}},mounted:function(){var e=this;k().then((function(t){e.progress.amount=t.amount,e.progress.target=t.target,e.members=t.members,e.loaded=!0})).catch((function(){e.error=!0})),document.title="Спасаем тигров вместе • mznx.ru"}},T=L,J=Object(v["a"])(T,c,u,!1,null,"77fb5dbc",null),H=J.exports,B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mt-10 mx-5"},[r("h2",{staticClass:"text-h3 mb-3"},[e._v("Платеж успешно проведен")]),r("p",[e._v("Спасибо, что решили поддержать мой проект!")]),r("p",[e._v("Как только соберется нужная сумма, переведу собранные деньги в WWF и оповещу об этом через E-mail.")]),r("p",[e._v("Список участников будет обновлен автоматически.")]),r("div",{staticClass:"my-5 text-center"},[r("v-btn",{attrs:{to:"/","x-large":"",color:"green",dark:""}},[e._v("Вернуться на главную")])],1)])},G=[],K={name:"thank_you",mounted:function(){document.title="Пожертвование получено • mznx.ru"}},N=K,U=Object(v["a"])(N,B,G,!1,null,"26529524",null),V=U.exports,X=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-app-bar",{attrs:{color:"#fff000",absolute:"",app:"",dark:"",height:"150",src:e.image},scopedSlots:e._u([{key:"img",fn:function(t){var n=t.props;return[r("v-img",e._b({attrs:{gradient:"to top right, rgba(19,84,122,.5), rgba(128,208,199,.8)"}},"v-img",n,!1))]}}])}),r("v-main",[r("v-container",[r("router-view")],1)],1),r("v-footer",{attrs:{app:""}})],1)},Y=[],Z=r("b7ef"),ee=r.n(Z),te={name:"App",data:function(){return{image:ee.a}}},re=te,ne=Object(v["a"])(re,X,Y,!1,null,null,null),oe=ne.exports;n["default"].config.productionTip=!1,n["default"].use(o["a"]);var se=[{path:"/",component:H},{path:"/thank-you",component:V}],ae=new o["a"]({mode:"history",routes:se});new n["default"]({render:function(e){return e(oe)},vuetify:l,router:ae}).$mount("#app")},b7ef:function(e,t,r){e.exports=r.p+"img/tiger.2a6ac3f0.jpg"}});
//# sourceMappingURL=app.bf183c37.js.map